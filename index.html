<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, height=device-height">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title>Vybe</title>

    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>

    <script type="text/javascript">
      AFRAME.registerComponent("visibility", {
        init: function () {
          var hints = document.querySelector('a-scene').sceneEl.querySelector("#hints");
          this.el.addEventListener("click", (e) => {
            const value = !hints.getAttribute('visible');
            hints.setAttribute('visible', value);
          })
        }
      })

  //     AFRAME.registerComponent('audiohandler', {
  //       init:function() {
  //         let playing = false;
  //         let audio = document.querySelector('a-scene').sceneEl.querySelector("#sound");
  //         this.el.addEventListener('click', (e) => {
  //               if(!playing) {
  //                   audio.playSound();
  //               } else {
  //                   audio.pauseSound();
  //                   audio.currentTime = 0;
  //               }
  //               playing = !playing;
  //         });
  // }
// })
    </script>
  </head>

  <body style="overflow: hidden;">
  <a-scene id="app" renderer="colorManagement: true;" cursor="rayOrigin: mouse">
    <a-assets timeout="30000">  
        <video id="mountain" autoplay loop="true" crossorigin="anonymous" src="images/hdcompressedmountain.mp4"> </video>
        <img id="dashboard" crossorigin="anonymous" src="images/Background3.png" material="transparent: true; opacity: 0.0">
        <img id="playmusic" crossorigin="anonymous" src="images/songplay.png" material="transparent: true; opacity: 0.0">
        <audio id="music" src="images/musicfile.mp3" preload="auto"></sound>
      <img id="hints-button"
           src="https://i.ibb.co/8Yhp4bJ/button1.png">      
    </a-assets>
    <!-- <a-camera position="0 1.2 0"></a-camera> -->

    <a-videosphere id="image-360" src="#mountain"></a-videosphere>
    <!-- <a-sound src="#music" autoplay=true></a-sound> -->

    <a-entity id="hints" visible="true" material="transparent: true;" visibility>
      <a-entity id="homeHint" geometry="primitive: plane" position="0 -2 0" material="src: #dashboard; transparent: true; opacity: 0.0">
        <a-plane id="clickthis" src="#dashboard" width= "6.75" height= "4.8" position="0 4 -5"></a-plane>
        <a-plane id="clickthis" sound="src: url(images/musicfile.mp3); on: click" src="#playmusic" width= "6.75" height= "4.8" position="8 4 -2.5" rotation="0 -90 0"></a-plane>
      </a-entity>    
      
    </a-entity>
    <!-- <a-entity id="hints" visible="true" visibility>
        <a-entity id="homeHint" geometry="primitive: plane" position="0 -2 0">
            <a-plane id="clickthis" sound="src: url(images/musicfile.mp3); on: click" src="#playmusic" width= "6.75" height= "4.8" position="8 4 -2.5" rotation="0 -90 0"></a-plane>
          </a-entity>   
    </a-entity> -->
  </a-scene>

  <a-entity camera look-controls >
    <a-cursor
      id="cursor"
      animation__click="property: scale; startEvents: click; from: 0.1 0.1 0.1; to: 1 1 1; dur: 150"
      animation__fusing="property: fusing; startEvents: fusing; from: 1 1 1; to: 0.1 0.1 0.1; dur: 1500"
      event-set__mouseenter="_event: mouseenter; color: springgreen"
      event-set__mouseleave="_event: mouseleave; color: black"
      raycaster="objects: .link"></a-cursor>
  </a-entity>

  </body>
</html>

